# ファイルの文字コードを変更する

## 概要
Vimでファイルの文字コードを変更します。

## 操作方法
ここでは、文字コードUTF-8のファイルを文字コードShift-JISに変更したいと思います。

### ファイルの文字コードを確認する
以下のコマンドを入力して確認します。
```sh
:set fenc?
```
![](image1.jpg)

このファイルの場合は、"utf-8"(UTF-8)となっています。<br>
![](image2.jpg)

### ファイルの文字コードを変更する
以下のコマンドを入力すると文字コードを変更できます("sjis"は文字コードShift-JISを意味します)。
```sh
:set fenc=<文字コード>
```
![](image3.jpg)

修正ありを示す"[+]"マークが表示されました。この状態ではまだファイルは保存されていません。<br>
![](image4.jpg)

### 保存する
以下のコマンドを入力してファイルを保存します。
```sh
:w
```
![](image5.jpg)

保存が完了しました。<br>
![](image6.jpg)

### 変更後のファイルの文字コードを確認する
以下のコマンドを入力して確認します。
```sh
:set fenc?
```
![](image7.jpg)

文字コードが"sjis"(Shift-JIS)となっています。<br>
![](image8.jpg)

### (付録) 変更後のファイルを表示する
以下のコマンドでファイルを開き直します。
```sh
:e
```
![](image9.jpg)

文字化けを起こしていますが、これはエディタの文字コード設定がShift-JISでないためです。<br>
![](image10.jpg)

#### エディタの文字コード設定を確認する
以下のコマンドでエディタの文字コード設定を確認できます。
```sh
:set enc?
```
![](image11.jpg)

現在の設定は"utf-8"(UTF-8)となっています。<br>ファイルとエディタで文字コードが異なると、文字化けを起こしてしまいます。<br>
![](image12.jpg)

#### エディタの文字コード設定を変更する
以下のコマンドでエディタの文字コード設定を変更します。
```sh
:edit ++enc=<文字コード>
```
![](image13.jpg)

エディタの文字コード設定がShift-JISに変更され、文字化けが解消しました。<br>
![](image14.jpg)

## 対応バージョン
バージョン8.2で動作確認済みです。
